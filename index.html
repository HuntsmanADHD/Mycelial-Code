<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mycelial - Code Like Nature Intended</title>
    <meta name="description" content="A bio-inspired programming language where developers write code using collaborative agents.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        /* ==== CSS STYLES ==== */
        :root {
            --color-primary: #355E3B;       /* Huntsman Green */
            --color-primary-hover: #427248;
            --color-bg: #000000;            /* Pure Black */
            --color-bg-card: #121212;       
            --color-text-white: #FFFFFF;    
            --color-text-muted: #B3B3B3;    
            --font-main: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            --container-width: 1200px;
            --header-height: 80px;
            --radius-pill: 50px;
            --radius-card: 8px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            background-color: var(--color-bg);
            color: var(--color-text-white);
            font-family: var(--font-main);
            line-height: 1.5;
            overflow-x: hidden;
        }

        h1, h2, h3, h4 { font-weight: 900; letter-spacing: -0.04em; line-height: 1; }
        p { color: var(--color-text-muted); font-size: 1.125rem; line-height: 1.6; }
        a { text-decoration: none; color: inherit; transition: all 0.3s ease; }

        .container { max-width: var(--container-width); margin: 0 auto; padding: 0 2rem; }

        /* Navigation */
        .nav {
            position: fixed; top: 0; width: 100%; height: var(--header-height);
            background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(12px);
            z-index: 1000; display: flex; align-items: center;
        }
        .nav-content { display: flex; justify-content: space-between; align-items: center; width: 100%; }
        .logo { font-weight: 800; font-size: 1.5rem; display: flex; align-items: center; gap: 0.5rem; }
        .logo span { color: var(--color-primary); }
        .nav-links { display: flex; gap: 2rem; align-items: center; }
        .nav-link { font-weight: 600; font-size: 1rem; }
        .nav-link:hover { color: var(--color-primary); }

        /* Buttons */
        .btn {
            display: inline-flex; align-items: center; justify-content: center;
            padding: 16px 32px; border-radius: var(--radius-pill);
            font-weight: 700; font-size: 1rem; cursor: pointer;
            transition: transform 0.2s ease, background-color 0.2s ease;
        }
        .btn:hover { transform: scale(1.04); }
        .btn-primary { background-color: var(--color-primary); color: var(--color-text-white); border: none; }
        .btn-primary:hover { background-color: var(--color-primary-hover); }
        .btn-outline { background-color: transparent; border: 2px solid var(--color-text-white); color: var(--color-text-white); }
        .btn-outline:hover { border-color: var(--color-primary); color: var(--color-primary); }

        /* Hero Section */
        .hero {
            position: relative; min-height: 100vh; background-color: var(--color-bg);
            display: flex; align-items: center; overflow: hidden; padding-top: var(--header-height);
        }
        #hero-canvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; pointer-events: auto;
        }
        .hero-container {
            position: relative; z-index: 10; display: flex; align-items: center;
            justify-content: space-between; width: 100%; height: 100%; pointer-events: none;
        }
        .hero-text, .hero-visual, .btn { pointer-events: auto; }
        .hero-text { flex: 1; padding-right: 2rem; }
        .hero-title { font-size: clamp(4rem, 9vw, 8rem); margin-bottom: 1.5rem; color: var(--color-text-white); text-transform: none; }
        .hero-subtitle { font-size: 1.25rem; margin-bottom: 2.5rem; max-width: 500px; }
        .hero-cta-group { display: flex; flex-direction: column; align-items: flex-start; gap: 1rem; }
        .hero-note { font-size: 0.8rem; color: #666; margin-left: 1rem; }
        
        .hero-visual { flex: 1; height: 100%; display: flex; align-items: center; justify-content: flex-end; position: relative; }
        .hero-circle {
            width: 600px; height: 600px; border-radius: 50%; overflow: hidden;
            position: relative; margin-right: -100px; box-shadow: 0 0 100px rgba(0,0,0,0.8);
        }
        .hero-circle img { width: 100%; height: 100%; object-fit: cover; transform: scale(1.1); }

        /* Sections */
        .section { padding: 8rem 0; position: relative; }
        .section-header { margin-bottom: 4rem; max-width: 800px; }
        .section-title { font-size: 3rem; margin-bottom: 1rem; }
        .highlight { color: var(--color-primary); }

        /* Agents Grid */
        .agents-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 3rem; margin-top: 4rem; }
        .agent-card { text-align: left; }
        .agent-icon {
            width: 64px; height: 64px; background: var(--color-bg-card); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-size: 2rem;
            margin-bottom: 1.5rem; border: 1px solid var(--color-primary); color: var(--color-primary);
            box-shadow: 0 0 20px rgba(53, 94, 59, 0.2);
        }
        .agent-card h3 { font-size: 1.5rem; margin-bottom: 1rem; }

        /* Signals */
        .signals-container { display: flex; align-items: center; justify-content: space-between; gap: 4rem; flex-wrap: wrap; }
        .signals-text { flex: 1; min-width: 300px; }
        .stat-box {
            margin-top: 2rem; display: inline-block; padding: 1rem 2rem;
            background: var(--color-bg-card); border-left: 4px solid var(--color-primary);
            border-radius: 0 var(--radius-card) var(--radius-card) 0;
        }
        .stat-number { font-size: 2.5rem; font-weight: 800; color: var(--color-primary); font-family: var(--font-mono); display: block; }
        .stat-label { font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; color: var(--color-text-white); }

        /* Demo */
        .demo-wrapper {
            background: var(--color-bg-card); border-radius: 16px; border: 1px solid #333;
            overflow: hidden; margin-top: 3rem; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        .demo-toolbar {
            background: #1a1a1a; padding: 1rem 2rem; display: flex;
            justify-content: space-between; align-items: center; border-bottom: 1px solid #333;
        }
        .demo-status { font-family: var(--font-mono); font-size: 0.9rem; color: var(--color-primary); display: flex; align-items: center; gap: 0.5rem; }
        .status-dot { width: 8px; height: 8px; background: var(--color-primary); border-radius: 50%; box-shadow: 0 0 10px var(--color-primary); animation: pulse 2s infinite; }
        .demo-content { display: grid; grid-template-columns: 2fr 1fr; min-height: 400px; }
        .demo-visual { background: #000; position: relative; display: flex; align-items: center; justify-content: center; }
        .demo-code { background: #0a0a0a; padding: 2rem; border-left: 1px solid #333; font-family: var(--font-mono); font-size: 0.9rem; color: #a9b7c6; overflow-y: auto; }
        .code-keyword { color: #cc7832; } .code-func { color: #ffc66d; } .code-string { color: #6a8759; }

        /* Features */
        .feature-row { display: flex; align-items: center; gap: 4rem; margin-bottom: 6rem; }
        .feature-row.reverse { flex-direction: row-reverse; }
        .feature-image { flex: 1; height: 400px; border-radius: 16px; overflow: hidden; position: relative; }
        .feature-image img { width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%) contrast(1.2); transition: filter 0.5s ease; }
        .feature-image:hover img { filter: grayscale(0%) contrast(1.1); }
        .feature-text { flex: 1; }

        /* Use Cases */
        .use-case-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .use-case-card {
            background: var(--color-bg-card); padding: 2.5rem; border-radius: var(--radius-card);
            transition: transform 0.3s ease, border-color 0.3s ease; border: 1px solid transparent; height: 100%;
        }
        .use-case-card:hover { transform: translateY(-10px); border-color: var(--color-primary); }
        .use-case-card h3 { margin-bottom: 1rem; color: var(--color-text-white); }

        /* Footer */
        .footer { padding: 4rem 0; border-top: 1px solid #222; margin-top: 4rem; }
        .footer-content { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 2rem; }
        .footer-links { display: flex; gap: 2rem; }
        .footer-links a { color: var(--color-text-muted); font-size: 0.9rem; }
        .footer-links a:hover { color: var(--color-primary); }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }
        @media (max-width: 968px) {
            .hero-container { flex-direction: column; justify-content: center; text-align: center; }
            .hero-text { padding-right: 0; margin-bottom: 2rem; }
            .hero-cta-group { align-items: center; }
            .hero-circle { width: 300px; height: 300px; margin-right: 0; }
            .hero-title { font-size: 3.5rem; }
            .demo-content { grid-template-columns: 1fr; }
            .feature-row { flex-direction: column; }
            .feature-row.reverse { flex-direction: column; }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>

    <!-- Navigation -->
    <nav class="nav">
        <div class="container nav-content">
            <a href="#" class="logo"><span>üåø</span> Mycelial</a>
            <div class="nav-links">
                <a href="https://github.com/HuntsmanADHD/Mycelial-Code" class="nav-link">GitHub</a>
                <a href="https://x.com/MycelialLabs" class="nav-link">X</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <canvas id="hero-canvas"></canvas>
        <div class="container hero-container">
            <div class="hero-text">
                <h1 class="hero-title">Code like<br>nature<br>intended</h1>
                <p class="hero-subtitle">Mycelial is a programming language where your code is a living network of collaborative agents.</p>
                <div class="hero-cta-group">
                    <a href="#demo" class="btn btn-primary">Try the Interactive Demo</a>
                    <span class="hero-note">Open source & native performance.</span>
                </div>
            </div>
            <div class="hero-visual">
                <div class="hero-circle">
                    <img src="IMG_8095.JPG" alt="Mycelium Network Macro">
                </div>
            </div>
        </div>
    </header>

    <!-- What Are Agents? -->
    <section class="section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Think Workers, <span class="highlight">Not Instructions</span></h2>
                <p>In traditional code, you write step-by-step instructions. In Mycelial, you create autonomous agents that collaborate to solve problems.</p>
            </div>
            <div class="agents-grid">
                <div class="agent-card">
                    <div class="agent-icon">üß†</div>
                    <h3>Autonomous</h3>
                    <p>Agents make their own decisions based on local state. No central controller bottlenecking your system.</p>
                </div>
                <div class="agent-card">
                    <div class="agent-icon">ü§ù</div>
                    <h3>Collaborative</h3>
                    <p>Agents communicate through signals. They pass data, request work, and synchronize naturally.</p>
                </div>
                <div class="agent-card">
                    <div class="agent-icon">üìà</div>
                    <h3>Scalable</h3>
                    <p>Add more agents to multiply your power. The network grows organically without rewriting core logic.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- What Are Signals? -->
    <section class="section" style="background: #050505;">
        <div class="container signals-container">
            <div class="signals-text">
                <h2 class="section-title">Messages at the <span class="highlight">Speed of Life</span></h2>
                <p>Signals are how agents talk. They're lightweight, fast, and designed for massive parallelism.</p>
                <div class="stat-box">
                    <span class="stat-number">12.3M</span>
                    <span class="stat-label">Signals / Second</span>
                </div>
            </div>
            <div style="flex: 1; height: 300px; position: relative; background: radial-gradient(circle at center, #1a1a1a 0%, #000 70%); border-radius: 16px; border: 1px solid #333;">
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 200px; height: 200px;">
                    <div style="position: absolute; width: 100%; height: 100%; border: 2px solid var(--color-primary); border-radius: 50%; opacity: 0; animation: ripple 2s infinite;"></div>
                    <div style="position: absolute; width: 100%; height: 100%; border: 2px solid var(--color-primary); border-radius: 50%; opacity: 0; animation: ripple 2s infinite 0.6s;"></div>
                </div>
                <style>@keyframes ripple { 0% { transform: scale(0.1); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }</style>
            </div>
        </div>
    </section>

    <!-- Interactive Demo -->
    <section id="demo" class="section">
        <div class="container">
            <div class="section-header" style="text-align: center; margin: 0 auto 3rem auto;">
                <h2 class="section-title">See It In Action</h2>
                <p>This isn't a simulation - this is actual Mycelial code logic running in your browser.</p>
            </div>
            <div class="demo-wrapper">
                <div class="demo-toolbar">
                    <div class="demo-status"><div class="status-dot"></div>NETWORK ACTIVE</div>
                    <button id="demo-play" class="btn btn-primary" style="padding: 8px 20px; font-size: 0.9rem;">‚ñ∂ Send Signal</button>
                </div>
                <div class="demo-content">
                    <div class="demo-visual">
                        <svg id="demo-svg" width="100%" height="100%" viewBox="0 0 800 400" style="background: #000;"></svg>
                    </div>
                    <div class="demo-code">
<pre>
<span class="code-keyword">network</span> SimpleFlow {
    <span class="code-keyword">hyphal</span> greeter {
        <span class="code-keyword">on</span> signal(data) {
            <span class="code-func">process</span>(data);
            <span class="code-keyword">emit</span> result -> output;
        }
    }
    <span class="code-keyword">fruiting_body</span> main {
        <span class="code-keyword">spawn</span> greeter;
        <span class="code-keyword">emit</span> "Hello" -> greeter;
    }
}
</pre>
                    </div>
                </div>
            </div>
            <ul id="demo-steps" style="display: flex; justify-content: center; gap: 2rem; list-style: none; margin-top: 2rem; text-align: center; font-size: 0.9rem; color: #666;">
                <li>1. Input</li><li>2. Signal</li><li>3. Process</li><li>4. Emit</li><li>5. Output</li>
            </ul>
        </div>
    </section>

    <!-- Why Mycelial? -->
    <section class="section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Biology Solved Distributed Computing <span class="highlight">Millions of Years Ago</span></h2>
            </div>
            <div class="feature-row">
                <div class="feature-image"><img src="IMG_8093.JPG" alt="Fungal Network"></div>
                <div class="feature-text">
                    <h3>Natural Architecture</h3>
                    <p>Mycelium networks efficiently distribute resources across vast areas without a central brain. Mycelial brings this same resilience to your code.</p>
                </div>
            </div>
            <div class="feature-row reverse">
                <div class="feature-image"><img src="IMG_7785.png" alt="Galaxy Spiral"></div>
                <div class="feature-text">
                    <h3>Built for Modern Hardware</h3>
                    <p>Multi-core processors, distributed systems, cloud infrastructure - Mycelial was designed for how computers actually work today.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Use Cases -->
    <section class="section" style="background: #050505;">
        <div class="container">
            <div class="section-header"><h2 class="section-title">Built For <span class="highlight">Real Problems</span></h2></div>
            <div class="use-case-grid">
                <div class="use-case-card"><h3>Real-time Systems</h3><p>Perfect for game servers, trading platforms, and live collaboration tools.</p></div>
                <div class="use-case-card"><h3>Data Processing</h3><p>Build parallel pipelines that scale automatically.</p></div>
                <div class="use-case-card"><h3>Distributed Apps</h3><p>Create microservices that feel like monoliths.</p></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div style="max-width: 400px;">
                    <h2 style="font-size: 2rem; margin-bottom: 1rem;">Join the Network</h2>
                    <p style="margin-bottom: 2rem;">Mycelial is open source and growing. Start learning today.</p>
                    <div style="display: flex; gap: 1rem;">
                        <a href="https://github.com/HuntsmanADHD/Mycelial-Code" class="btn btn-primary">Get Started</a>
                        <a href="https://github.com/HuntsmanADHD/Mycelial-Code" class="btn btn-outline">Star on GitHub</a>
                    </div>
                </div>
                <div class="footer-links">
                    <a href="https://github.com/HuntsmanADHD/Mycelial-Code">GitHub</a>
                    <a href="https://x.com/MycelialLabs">X / Twitter</a>
                </div>
            </div>
            <div style="margin-top: 4rem; color: #444; font-size: 0.8rem;">&copy; 2026 Mycelial. Code Like Nature Intended.</div>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script>
        // ==== HERO ANIMATION SCRIPT ====
        (function() {
            const canvas = document.getElementById('hero-canvas');
            const ctx = canvas.getContext('2d');
            let width, height;
            let particles = [];
            const particleCount = 80; 
            const connectionDistance = 150; 
            const mouseDistance = 250; 
            const primaryColor = '0, 255, 100'; // Bright Neon Green
            const mouse = { x: null, y: null };

            window.addEventListener('mousemove', (e) => {
                const rect = canvas.getBoundingClientRect();
                mouse.x = e.clientX - rect.left;
                mouse.y = e.clientY - rect.top;
            });
            window.addEventListener('mouseleave', () => { mouse.x = null; mouse.y = null; });

            function resize() {
                if (!canvas.parentElement) return;
                width = canvas.width = canvas.parentElement.offsetWidth;
                height = canvas.height = canvas.parentElement.offsetHeight;
            }

            class Particle {
                constructor() {
                    this.x = Math.random() * width;
                    this.y = Math.random() * height;
                    this.vx = (Math.random() - 0.5) * 1;
                    this.vy = (Math.random() - 0.5) * 1;
                    this.size = Math.random() * 3 + 1;
                }
                update() {
                    this.x += this.vx; this.y += this.vy;
                    if (this.x < 0 || this.x > width) this.vx *= -1;
                    if (this.y < 0 || this.y > height) this.vy *= -1;
                }
                draw() {
                    ctx.fillStyle = `rgba(${primaryColor}, 0.6)`;
                    ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();
                }
            }

            function init() {
                resize();
                particles = [];
                for (let i = 0; i < particleCount; i++) particles.push(new Particle());
            }

            function animate() {
                ctx.clearRect(0, 0, width, height);
                particles.forEach(p => {
                    p.update(); p.draw();
                    if (mouse.x != null) {
                        const dx = mouse.x - p.x; const dy = mouse.y - p.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        if (distance < mouseDistance) {
                            ctx.strokeStyle = `rgba(${primaryColor}, ${1 - distance / mouseDistance})`;
                            ctx.lineWidth = 1.5; ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(mouse.x, mouse.y); ctx.stroke();
                        }
                    }
                    particles.forEach(p2 => {
                        if (p === p2) return;
                        const dx = p.x - p2.x; const dy = p.y - p2.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        if (distance < connectionDistance) {
                            ctx.strokeStyle = `rgba(${primaryColor}, ${0.4 * (1 - distance / connectionDistance)})`;
                            ctx.lineWidth = 0.5; ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(p2.x, p2.y); ctx.stroke();
                        }
                    });
                });
                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', () => { resize(); init(); });
            window.addEventListener('load', () => { init(); animate(); });
        })();

        // ==== DEMO LOGIC SCRIPT ====
        class MycelialDemo {
            constructor(svgId) {
                this.svg = document.getElementById(svgId);
                if (!this.svg) return;
                this.isAnimating = false;
                this.init();
            }
            init() { this.createDiagram(); this.setupControls(); }
            createDiagram() {
                this.svg.innerHTML = '';
                const positions = { input: { x: 100, y: 200 }, greeter: { x: 400, y: 200 }, output: { x: 700, y: 200 } };
                this.createConnection(positions.input, positions.greeter, 'conn-input-greeter');
                this.createConnection(positions.greeter, positions.output, 'conn-greeter-output');
                this.createNode(positions.input, 'input', 'Input\n(fruiting_body)');
                this.createNode(positions.greeter, 'greeter', 'Greeter\n(hyphal)');
                this.createNode(positions.output, 'output', 'Output\n(fruiting_body)');
                this.createSignalPath(positions.input, positions.greeter, 'signal-1');
                this.createSignalPath(positions.greeter, positions.output, 'signal-2');
                this.positions = positions;
            }
            createConnection(from, to, id) {
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', from.x); line.setAttribute('y1', from.y);
                line.setAttribute('x2', to.x); line.setAttribute('y2', to.y);
                line.setAttribute('stroke', '#355E3B'); line.setAttribute('stroke-width', '2');
                line.setAttribute('stroke-opacity', '0.3'); line.setAttribute('id', id);
                this.svg.appendChild(line);
            }
            createNode(pos, id, label) {
                const group = document.createElementNS('http://www.w3.org/2000/svg', 'g'); group.setAttribute('id', id);
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', pos.x); circle.setAttribute('cy', pos.y); circle.setAttribute('r', '30');
                circle.setAttribute('fill', '#0F0F0F'); circle.setAttribute('stroke', '#355E3B'); circle.setAttribute('stroke-width', '3');
                group.appendChild(circle);
                const lines = label.split('\n');
                lines.forEach((line, index) => {
                    const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    // Increased spacing multiplier from 16 to 18 for better readability
                    text.setAttribute('x', pos.x); text.setAttribute('y', pos.y + (index - lines.length / 2 + 0.5) * 18);
                    text.setAttribute('text-anchor', 'middle'); text.setAttribute('dominant-baseline', 'middle');
                    text.setAttribute('fill', '#FFFFFF'); text.setAttribute('font-family', 'Inter, sans-serif');
                    text.setAttribute('font-size', '12'); text.setAttribute('font-weight', index === 0 ? '600' : '400');
                    text.textContent = line; group.appendChild(text);
                });
                this.svg.appendChild(group);
            }
            createSignalPath(from, to, id) {
                const signal = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                signal.setAttribute('r', '6'); signal.setAttribute('fill', '#4A7C59'); signal.setAttribute('opacity', '0');
                signal.setAttribute('id', id); signal.setAttribute('cx', from.x); signal.setAttribute('cy', from.y);
                this.svg.appendChild(signal);
            }
            setupControls() {
                const playButton = document.getElementById('demo-play');
                if (playButton) playButton.addEventListener('click', () => this.play());
            }
            async play() {
                if (this.isAnimating) return;
                this.isAnimating = true;
                const playButton = document.getElementById('demo-play');
                if (playButton) { playButton.disabled = true; playButton.textContent = 'Playing...'; }
                await this.animateSequence();
                if (playButton) { playButton.disabled = false; playButton.textContent = '‚ñ∂ Send Signal'; }
                this.isAnimating = false;
            }
            async animateSequence() {
                const steps = document.querySelectorAll('#demo-steps li');
                this.highlightStep(steps, 0); this.highlightNode('input'); await this.wait(1000);
                this.highlightStep(steps, 1); await this.animateSignal('signal-1', this.positions.input, this.positions.greeter);
                this.unhighlightNode('input'); this.highlightNode('greeter'); await this.wait(500);
                this.highlightStep(steps, 2); await this.pulseNode('greeter', 3); await this.wait(500);
                this.highlightStep(steps, 3); await this.wait(500);
                this.highlightStep(steps, 4); await this.animateSignal('signal-2', this.positions.greeter, this.positions.output);
                this.unhighlightNode('greeter'); this.highlightNode('output'); await this.wait(1000);
                this.unhighlightNode('output'); this.unhighlightStep(steps);
            }
            highlightStep(steps, index) { steps.forEach((step, i) => { step.style.color = i === index ? '#4A7C59' : '#666'; step.style.fontWeight = i === index ? '600' : '400'; }); }
            unhighlightStep(steps) { steps.forEach(step => { step.style.color = '#666'; step.style.fontWeight = '400'; }); }
            highlightNode(id) { const node = document.getElementById(id); if (node) { const c = node.querySelector('circle'); if (c) { c.setAttribute('stroke', '#4A7C59'); c.setAttribute('stroke-width', '4'); c.setAttribute('fill', '#1A1A1A'); } } }
            unhighlightNode(id) { const node = document.getElementById(id); if (node) { const c = node.querySelector('circle'); if (c) { c.setAttribute('stroke', '#355E3B'); c.setAttribute('stroke-width', '3'); c.setAttribute('fill', '#0F0F0F'); } } }
            async pulseNode(id, count = 3) { const node = document.getElementById(id); if (!node) return; const c = node.querySelector('circle'); if (!c) return; for (let i = 0; i < count; i++) { c.setAttribute('r', '35'); await this.wait(150); c.setAttribute('r', '30'); await this.wait(150); } }
            animateSignal(signalId, from, to, duration = 1000) {
                return new Promise(resolve => {
                    const signal = document.getElementById(signalId); if (!signal) { resolve(); return; }
                    signal.setAttribute('opacity', '1'); const startTime = Date.now();
                    const animate = () => {
                        const elapsed = Date.now() - startTime; const progress = Math.min(elapsed / duration, 1);
                        const x = from.x + (to.x - from.x) * progress; const y = from.y + (to.y - from.y) * progress;
                        signal.setAttribute('cx', x); signal.setAttribute('cy', y);
                        if (progress < 1) requestAnimationFrame(animate); else { signal.setAttribute('opacity', '0'); resolve(); }
                    }; animate();
                });
            }
            wait(ms) { return new Promise(resolve => setTimeout(resolve, ms)); }
        }
        if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', () => new MycelialDemo('demo-svg'));
        else new MycelialDemo('demo-svg');

        // Scroll Reveal
        document.addEventListener('DOMContentLoaded', () => {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) { entry.target.style.opacity = 1; entry.target.style.transform = 'translateY(0)'; } });
            });
            document.querySelectorAll('.section-title, .agent-card, .use-case-card').forEach(el => {
                el.style.opacity = 0; el.style.transform = 'translateY(20px)'; el.style.transition = 'all 0.6s ease-out'; observer.observe(el);
            });
        });
    </script>
</body>
</html>
