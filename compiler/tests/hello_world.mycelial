# Hello World in Mycelial
# The simplest possible program: receive input, emit output.

network HelloWorld {
  frequencies {
    greeting {
      name: string
    }

    response {
      message: string
    }
  }

  hyphae {
    hyphal greeter {
      on signal(greeting, g) {
        emit response {
          message: format("Hello, {}!", g.name)
        }
      }
    }
  }

  topology {
    fruiting_body input
    fruiting_body output

    spawn greeter as G1

    socket input -> G1 (frequency: greeting)
    socket G1 -> output (frequency: response)
  }
}

# USAGE:
#   Send:    greeting(name="World")
#   Receive: response(message="Hello, World!")
